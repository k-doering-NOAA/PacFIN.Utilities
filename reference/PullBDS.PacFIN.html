<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Pull biological data from the PacFIN database — PullBDS.PacFIN • PacFIN.Utilities</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Pull biological data from the PacFIN database — PullBDS.PacFIN"><meta property="og:description" content="Pull biological data from the
Comprehensive Biological Data (comprehensive_bds_comm) table
in the PacFIN database (PACFIN_MARTS).
Data are in their raw form and should be cleaned either by hand or
using cleanPacFIN."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PacFIN.Utilities</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Pull biological data from the PacFIN database</h1>
    
    <div class="hidden name"><code>PullBDS.PacFIN.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Pull biological data from the
Comprehensive Biological Data (comprehensive_bds_comm) table
in the PacFIN database (PACFIN_MARTS).
Data are in their raw form and should be cleaned either by hand or
using <a href="cleanPacFIN.html">cleanPacFIN</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PullBDS.PacFIN</span><span class="op">(</span></span>
<span>  <span class="va">pacfin_species_code</span>,</span>
<span>  username <span class="op">=</span> <span class="fu"><a href="getUserName.html">getUserName</a></span><span class="op">(</span><span class="st">"PacFIN"</span><span class="op">)</span>,</span>
<span>  <span class="va">password</span>,</span>
<span>  savedir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>pacfin_species_code</dt>
<dd><p>A character string for the PacFIN
species code that you desire to pull data for. Known also as
<code>"SPID"</code> in the PacFIN database if using legacy sql scripts.
An example for sablefish would be
<code>pacfin_species_code = "SABL"</code>.
A list of pacfin_species_code
can be found online: https://pacfin.psmfc.org/pacfin_pub/marketcat.php</p></dd>


<dt>username</dt>
<dd><p>The username you would like to use to access data from
<code>datasourcename</code>. The default is to generate <code>username</code>
from your computer name.</p></dd>


<dt>password</dt>
<dd><p>Your password for the <code>datasourcename</code>.</p></dd>


<dt>savedir</dt>
<dd><p>A file path to the directory where the results will be saved.
The default is the current working directory.
The path can be relative or absolute.</p></dd>


<dt>verbose</dt>
<dd><p>A logical value specifying if output should be written
to the screen or not. Good for testing and exploring your data but
can be turned off when output indicates errors.
The printing doesn't affect any of the returned objects, instead,
printing makes it easier to see if the data has errors and what was
done to rectify them in the given function.
Sorry, but the default is to always print to the screen,
i.e., <code>verbose = TRUE</code>, so you do not miss out on anything.
This is standard practice for packages in the nwfsc-assess organization.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An RData object is saved to the disk and the pulled data
are returned as a data frame.
The saved data can be read back in using <a href="https://rdrr.io/r/base/load.html" class="external-link">load</a>, but note that
the object is named <code>bds.pacfin</code> inside of the <code>.RData</code> file, and thus,
the object will retain this name within your work space.
In February of 2021, the returned object was renamed from <code>out</code></p>


<p>to <code>bds.pacfin</code> in an attempt to be more clear.</p>


<p>Upon download, the data are changed from a long table to a wide table
using the combination of unique <code>FISH_ID</code> and <code>AGE_SEQUENCE_NUMBER</code>.
Users are warned if <code>verbose = TRUE</code> when there are non-unique <code>FISH_IDs</code> and these data
are automatically removed from the data frame.
This change from long to wide allows for rows equating to a single fish with columns
containing information about all measurements for that fish. Multiple age reads and
information about those reads such as age reader will be in the columns.
So, if your data had at most three duplicate reads,
then you will see numbers up to <code>3</code> pasted onto the end of relevant column names.
This is to help you match duplicate reads to other relevant information.
Not all double reads are currently available within PacFIN and
users should contact the ageing labs if they wish to inform ageing-error matrices.</p>


<p><code>AGE_COUNT</code> is a somewhat cryptic column name and does not always make sense
when compared to <code>AGE_SEQUENCE_NUMBER</code>. It was determined that the former is
useful to identify how many potential agers were exposed to this fish.
For example, if <code>AGE_SEQUENCE_NUMBER</code> has a maximum value of three for a
given <code>FISH_ID</code>, then you can expect <code>AGE_COUNT</code> to be three for all three
rows in the PACFIN database for that fish. This is not always true though.
Sometimes, not all <code>AGE_SEQUENCE_NUMBER</code>s are present and they can skip
numbers for a given <code>FISH_ID</code>, and in this case, <code>AGE_COUNT</code> will be the
maximum <code>AGE_SEQUENCE_NUMBER</code> for a given <code>FISH_ID</code>.</p>


<p><code>FINAL_FISH_AGE_IN_YEARS</code> is known as the best age for a given fish.
This will not always match an age reader or be a number determinable
from the individual age reads in <code>AGE_IN_YEARS</code>. Patrick explained to me
that when age reads do not agree, particularly for younger fish, then
the senior reader will work together with the junior reader to determine
an agreed-upon age. Other times, the senior reader's value will always
be used, or it could be that together they determine that they were both
wrong and a new age is proposed as the <code>resolved age</code>. Nevertheless,
it can be quite messy and there is no way to predict the best age.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">
<ul><li><p><a href="cleanColumns.html">cleanColumns</a> to change to legacy column names</p></li>
<li><p><a href="cleanPacFIN.html">cleanPacFIN</a> to manipulate and subset the returned object</p></li>
</ul></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>John R. Wallace, Kelli F. Johnson</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># Enter password in place of xxx below</span></span></span>
<span class="r-in"><span><span class="va">mypw</span> <span class="op">&lt;-</span> <span class="st">"xxx"</span></span></span>
<span class="r-in"><span><span class="va">pd</span> <span class="op">&lt;-</span> <span class="fu">PullBDS.PacFIN</span><span class="op">(</span>pacfin_species_code <span class="op">=</span> <span class="st">"POP"</span>, password <span class="op">=</span> <span class="va">mypw</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Andi Stephens.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

